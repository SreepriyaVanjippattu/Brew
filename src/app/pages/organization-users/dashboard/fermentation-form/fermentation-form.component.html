<div class="container-fluid">

    <div class="row">

        <div class="col-md-6">
            <div class="header-title">
                <h6>Active Fermentation</h6>
            </div>
        </div>

        <div class="col-md-6">
            <nav aria-label="breadcrumb" class="d-flex justify-content-end">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item position-relative">
                        <a href="app/dashboard">
                            <i class="material-icons home-ico">
                                home
                            </i>Dashboard
                        </a>
                    </li>
                    <li  class="breadcrumb-item"><a>Active Brew</a></li>
                    <li class="breadcrumb-item"><a>Enter Data</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Fermentation</li>
                </ol>
            </nav>
        </div>

    </div>

    <div class="row">
        <div class="col-md-12">
            <ul class="nav nav-pills mb-3 progressbar" id="pills-tab" role="tablist">
                <li (click)="mashInClick()" class="nav-item active cursor-click">
                    <a class="active" id="pills-mash-tab" data-toggle="pill" href="#pills-mash" role="tab"
                        aria-controls="pills-mash" aria-selected="true">Mash In</a>
                </li>
                <li (click)="brewLogClick()" class="nav-item active cursor-click">
                    <a id="pills-brew-tab" data-toggle="pill" href="#pills-brew" role="tab" aria-controls="pills-brew"
                        aria-selected="false">Brew Log</a>
                </li>
                <li (click)="fermentationClick()" class="nav-item active cursor-click">
                    <a id="pills-fermentation-tab" data-toggle="pill" href="#pills-fermentation" role="tab"
                        aria-controls="pills-fermentation" aria-selected="false">Fermentation</a>
                </li>
                <li (click)="conditioningClick()" class="nav-item cursor-click">
                    <a id="pills-conditioning-tab" data-toggle="pill" href="#pills-conditioning" role="tab"
                        aria-controls="pills-conditioning" aria-selected="false">Conditioning</a>
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="accordion" id="accordionExample">
                <div class="card">
                    <div class="card-main-header" id="headingOne">
                        <h2 class="mb-0">
                            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                                aria-expanded="true" aria-controls="collapseOne">
                                General Details
                            </button>
                        </h2>
                    </div>

                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div class="form-row">

                                <div class="form-group col-md-3">
                                    <label for="brewrun-id">Brew Run ID</label>
                                    <input type="text" class="form-control" id="brewrun-id" placeholder="Brew Run ID"
                                        [(ngModel)]="brewRunFermentation.brewRunId" readonly>
                                </div>

                                <div class="form-group col-md-3">
                                    <label for="brewer">Brewer</label>
                                    <input type="text" class="form-control" id="brewer" placeholder="Brewer"
                                        [(ngModel)]="brewRunFermentation.userName" readonly>
                                </div>

                                <div class="form-group col-md-3">
                                    <label for="tank-name">Tank Name</label>

                                    <select class="form-control input-dropdown" [(ngModel)]="brewRunFermentation.tankId"
                                        (change)="currentValue($event)">
                                        <option disabled value="brewRunFermentation.tankName">Select</option>
                                        <option *ngFor="let tank of tankList" [value]="tank.id">{{tank.name}}</option>
                                    </select>

                                </div>

                                <div class="form-group col-md-3">
                                    <label for="recipe-name">Recipe</label>
                                    <input type="text" class="form-control" id="recipe-name" placeholder="Recipe"
                                        [(ngModel)]="brewRunFermentation.recipeName" readonly>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingTwo">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedFermentation = !isCollapsedFermentation"
                                class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                aria-expanded="false" aria-controls="collapseTwo">
                                Fermentation Data Entry
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white mr-2" type="button" data-toggle="modal"
                                data-target="#fermntData">Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click"
                                [ngbCollapse]="isCollapsedFermentation"
                                (click)="isCollapsedFermentation = !isCollapsedFermentation">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClass}" [ngbCollapse]="!isCollapsedFermentation"
                                (click)="isCollapsedFermentation = !isCollapsedFermentation">
                                add_box
                            </i>
                        </div>
                    </div>
                    <div [ngbCollapse]="isCollapsedFermentation" class="collapse" aria-labelledby="headingTwo"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div *ngFor="let fermentationDataEntry of brewRunFermentation.fermentationDataEntry; let i = index;">
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="ferment-volume">Volume In</label>
                                        <div class='multiple-input'>
                                            <input type="number" class="form-control" id="ferment-volume"
                                                placeholder="Volume In"
                                                [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].volumeIn">
                                            <select class="form-control input-dropdown"
                                                [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].volumeInUnitId">
                                                <ng-container *ngFor="let unit of units">
                                                    <option *ngIf="unit.category === 'Size'" [value]="unit.id">
                                                        {{unit.symbol}}</option>
                                                </ng-container>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="ferment-acttemp">Actual Temperature ({{preferedUnit}})</label>
                                        <input type="text" class="form-control" id="ferment-acttemp"
                                            placeholder="Actual Temperature"
                                            [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].actualTemperature">


                                    </div>


                                </div>

                                <div class="form-row">

                                    <div class="form-group col-md-6">
                                        <label for="ferment-pressure">Actual Pressure (PSI)</label>
                                        <div class='multiple-input'>
                                            <input type="number" class="form-control" id="ferment-pressure"
                                                placeholder="Actual Pressure (PSI)"
                                                [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].actualPressure">
                                            <select class="form-control input-dropdown"
                                                [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].actualPressureUnitId">
                                                <option disabled value="">Select</option>
                                                <ng-container *ngFor="let unit of units">
                                                    <option *ngIf="unit.category === 'Pressure'" [value]="unit.id">
                                                        {{unit.symbol}}</option>
                                                </ng-container>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="ferment-ph">Actual pH</label>
                                        <input type="text" class="form-control" id="ferment-ph" placeholder="Actual pH"
                                            [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].actualPh">
                                    </div>

                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="ferment-plato">Actual {{preferedPlato}}</label>
                                        <input type="text" class="form-control" id="ferment-plato"
                                            placeholder="{{preferedPlato}}"
                                            [(ngModel)]="brewRunFermentation.fermentationDataEntry[i].actualPlatoGravity">
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="col-md-12 d-flex justify-content-end">
                                        <button type="button" class="btn btn-outline-light l-btn"
                                            (click)="onFermentComplete(i,'Fermentation')">
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedYeast = !isCollapsedYeast" class="btn btn-link collapsed"
                                type="button" aria-expanded="false" aria-controls="collapseThree">
                                Yeast Data
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white mr-2" type="button" data-toggle="modal"
                                data-target="#yeastData">Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click" [ngbCollapse]="isCollapsedYeast"
                                (click)="isCollapsedYeast = !isCollapsedYeast">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClassYeast}" [ngbCollapse]="!isCollapsedYeast"
                                (click)="isCollapsedYeast = !isCollapsedYeast">
                                add_box
                            </i>

                        </div>

                    </div>
                    <div [ngbCollapse]="isCollapsedYeast" class="collapse" aria-labelledby="headingThree">
                        <div class="card-body">
                            <div *ngFor="let yeastDataDetail of brewRunFermentation.yeastDataDetails; let i = index;">
                                <div class="form-row">

                                    <div class="form-group col-md-6">
                                        <label for="strain">Strain</label>
                                        <select class="form-control input-style input-dropdown" id=""
                                            [(ngModel)]="brewRunFermentation.yeastDataDetails[i].yeastStrainId">
                                            <option disabled value="">Select</option>
                                            <option *ngFor="let yeastStrain of yeastStrain" [value]="yeastStrain.id">
                                                {{yeastStrain.name}}</option>
                                        </select>
                                    </div>

                                    <div for="status" class="form-group col-md-6">
                                        <label for="generation">Generation</label>
                                        <input type="number" class="form-control" id="generation"
                                            placeholder="Generation" [(ngModel)]="brewRunFermentation.yeastDataDetails[i].generation">

                                    </div>



                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="count">Cell Count</label>
                                        <input type="number" class="form-control" id="count" placeholder="Cell Count"
                                            [(ngModel)]="brewRunFermentation.yeastDataDetails[i].cellCount">
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="viable">Viability</label>
                                        <input type="number" class="form-control" id="viable" placeholder="Viability"
                                            [(ngModel)]="brewRunFermentation.yeastDataDetails[i].viability">
                                    </div>





                                </div>

                                <div class="form-row">
                                    <div class="col-md-12 d-flex justify-content-end">
                                        <button type="button" class="btn btn-outline-light l-btn"
                                            (click)="onYeastComplete(i,'YeastData')">
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingTwo">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedHops = !isCollapsedHops" class="btn btn-link collapsed"
                                type="button" data-toggle="collapse" aria-expanded="false" aria-controls="collapseTwo">
                                Hops
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white" type="button" data-toggle="modal"
                                data-target="#hopsFerment">Target Values</button>
                            <i class="material-icons colapse-toggle" [ngbCollapse]="isCollapsedHops"
                                (click)="isCollapsedHops = !isCollapsedHops">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle"
                                [ngClass]="{'colapse-toggle-active' :setClassHops}" [ngbCollapse]="!isCollapsedHops"
                                (click)="isCollapsedHops = !isCollapsedHops">
                                add_box
                            </i>
                        </div>
                    </div>
                    <div [ngbCollapse]="isCollapsedHops" class="collapse" aria-labelledby="headingTwo"
                        data-parent="#accordionExample">
                        <div *ngIf="addInHopsFermentation.length > 0" class="card-body">
                            <div *ngFor="let fermentationHopesDetails of brewRunFermentation.hopesDetails; let i = index;">
                                <div *ngIf="fermentationHopesDetails.addInId == addInConstants.Fermentation.Id">

                                    <div class="card-sub-section mt-2">Hops.
                                        {{getHopsCountFerm(fermentationHopesDetails.id)}}</div>
                                    <div class="form-row">
                                        <div class="form-group col-md-3">
                                            <label for="brewrun-name">Name</label>
                                            <input type="text" class="form-control" id="brewrun-name" placeholder=""
                                                [(ngModel)]="brewRunFermentation.hopesDetails[i].name">
                                        </div>

                                        <div for="status" class="form-group col-md-3">
                                            <label for="postal">Type</label>
                                            <i class="material-icons  position-absolute cursor-click add-dropicon"
                                                data-toggle="modal" data-target="#typeModal">add_circle_outline</i>
                                            <select class="form-control input-style input-dropdown" id=""
                                                [(ngModel)]="brewRunFermentation.hopesDetails[i].maltGrainTypeId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let maltType of maltTypes" [value]="maltType.id">
                                                    {{maltType.name}}</option>
                                            </select>
                                        </div>

                                        <div for="status" class="form-group col-md-3">
                                            <label for="postal">Origin</label>
                                            <select class="form-control input-style input-dropdown" id=""
                                                [(ngModel)]="brewRunFermentation.hopesDetails[i].countryId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let country of countries" [value]="country.id">
                                                    {{country.countryName}}</option>
                                            </select>
                                        </div>

                                        <div class="form-group col-md-3">
                                            <label for="brewrun-id">Supplier</label>
                                            <i class="material-icons  position-absolute cursor-click add-dropicon"
                                                data-toggle="modal" data-target="#supplierModal">add_circle_outline</i>
                                            <select class="form-control input-style input-dropdown" id=""
                                                [(ngModel)]="brewRunFermentation.hopesDetails[i].supplierId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let suppliers of suppliers" [value]="suppliers.id">
                                                    {{suppliers.name}}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-row">

                                        <div class="form-group col-md-3">
                                            <label for="brewrun-alpha">Alpha (%)</label>
                                            <input type="text" class="form-control" id="brewrun-alpha"
                                                placeholder="Alpha (%)" [(ngModel)]="brewRunFermentation.hopesDetails[i].alpha">
                                        </div>

                                        <div class="form-group col-md-3">
                                            <label for="brewrrun-quantity">Quantity</label>
                                            <div class='multiple-input'>
                                                <input type="number" class="form-control" id="brewrrun-quantity"
                                                    placeholder="Quantity" [(ngModel)]="brewRunFermentation.hopesDetails[i].quantity">
                                                <select class="form-control input-dropdown"
                                                    [(ngModel)]="brewRunFermentation.hopesDetails[i].quantityUnitTypeId">
                                                    <option disabled value="">Select</option>
                                                    <ng-container *ngFor="let unit of units">
                                                        <option *ngIf="unit.category === 'Mass'" [value]="unit.id">
                                                            {{unit.symbol}}</option>
                                                    </ng-container>
                                                </select>
                                            </div>
                                        </div>

                                        <div for="status" class="form-group col-md-3">
                                            <label for="add-in">Add In</label>
                                            <select class="form-control input-style input-dropdown" id="add-in"
                                                [(ngModel)]="brewRunFermentation.hopesDetails[i].addInId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let addins of addins" [value]="addins.id">
                                                    {{addins.name}}</option>
                                            </select>
                                        </div>


                                        <div class="form-group col-md-3">
                                            <label for="brewrun-id">Start</label>
                                            <input class="form-control" [owlDateTime]="startTime" id="brewrun-id"
                                                [owlDateTimeTrigger]="startTime" [min]="minStarTime"
                                                [max]="maxStartTime" [(ngModel)]="brewRunFermentation.hopesDetails[i].startTime">
                                            <owl-date-time #startTime></owl-date-time>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn"
                                    (click)="onHopsComplete('Hops')">
                                    Complete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingTwo">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedAdjuncts = !isCollapsedAdjuncts" class="btn btn-link collapsed"
                                type="button" aria-expanded="false" aria-controls="collapseTwo">
                                Adjuncts
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white" type="button" data-toggle="modal"
                                data-target="#adjunctsFerment">Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click" [ngbCollapse]="isCollapsedAdjuncts"
                                (click)="isCollapsedAdjuncts = !isCollapsedAdjuncts">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClassAdjuncts}"
                                [ngbCollapse]="!isCollapsedAdjuncts"
                                (click)="isCollapsedAdjuncts = !isCollapsedAdjuncts">
                                add_box
                            </i>
                        </div>
                    </div>
                    <div [ngbCollapse]="isCollapsedAdjuncts" class="collapse" aria-labelledby="headingTwo"
                        data-parent="#accordionExample">
                        <div *ngIf="addInAdjunctsFermentation.length > 0" class="card-body">
                            <div *ngFor="let fermentationAdjunctsDetails of brewRunFermentation.adjunctsDetails; let i = index;">
                                <div *ngIf="fermentationAdjunctsDetails.addInId == addInConstants.Fermentation.Id">
                                    <div class="card-sub-section mt-2">Adjuncts.
                                        {{getAdjCountFerm(fermentationAdjunctsDetails.id)}}</div>
                                    <div class="form-row">
                                        <div class="form-group col-md-4">
                                            <label for="brewrun-alpha">Name</label>
                                            <input type="text" class="form-control" id="brewrun-alpha"
                                                placeholder="Name" [(ngModel)]="brewRunFermentation.adjunctsDetails[i].name">
                                        </div>

                                        <div for="status" class="form-group col-md-4">
                                            <label for="postal">Origin</label>
                                            <select class="form-control input-style input-dropdown" id=""
                                                [(ngModel)]="brewRunFermentation.adjunctsDetails[i].countryId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let countries of countries" [value]="countries.id">
                                                    {{countries.countryName}}</option>
                                            </select>
                                        </div>

                                        <div class="form-group col-md-4">
                                            <label for="postal">Supplier</label>
                                            <i class="material-icons  position-absolute cursor-click add-dropicon"
                                                data-toggle="modal" data-target="#supplierModal">add_circle_outline</i>
                                            <select class="form-control input-style input-dropdown" id=""
                                                [(ngModel)]="brewRunFermentation.adjunctsDetails[i].supplierId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let suppliers of suppliers" [value]="suppliers.id">
                                                    {{suppliers.name}}</option>
                                            </select>
                                        </div>

                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-4">
                                            <label for="brewrrun-quantity">Quantity</label>
                                            <div class='multiple-input'>
                                                <input type="number" class="form-control" id="brewrrun-quantity"
                                                    placeholder="Quantity"
                                                    [(ngModel)]="brewRunFermentation.adjunctsDetails[i].quantity">
                                                <select class="form-control input-dropdown"
                                                    [(ngModel)]="brewRunFermentation.adjunctsDetails[i].quantityUnitTypeId">
                                                    <option disabled value="">Select</option>
                                                    <ng-container *ngFor="let unit of units">
                                                        <option *ngIf="unit.category === 'Mass'" [value]="unit.id">
                                                            {{unit.symbol}}</option>
                                                    </ng-container>
                                                </select>
                                            </div>
                                        </div>

                                        <div for="status" class="form-group col-md-4">
                                            <label for="add-in">Add In</label>
                                            <select class="form-control input-style input-dropdown" id="add-in"
                                                [(ngModel)]="brewRunFermentation.adjunctsDetails[i].addInId">
                                                <option disabled value="">Select</option>
                                                <option *ngFor="let addin of addins" [value]="addin.Id">{{addin.Name}}
                                                </option>
                                            </select>
                                        </div>

                                        <div class="form-group col-md-4">
                                            <label for="brewrun-id">Start</label><br />
                                            <input class="form-control" [owlDateTime]="startTime"
                                                [owlDateTimeTrigger]="startTime" [min]="minStarTime"
                                                [max]="maxStartTime" [(ngModel)]="brewRunFermentation.adjunctsDetails[i].startTime">
                                            <owl-date-time #startTime></owl-date-time>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn"
                                    (click)="onAdjunctsComplete('Adjuncts')">
                                    Complete
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedDiacetyl = !isCollapsedDiacetyl" class="btn btn-link collapsed"
                                type="button" data-toggle="collapse" aria-expanded="false"
                                aria-controls="collapseThree">
                                Diacetyl Rest Data
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white" type="button" data-toggle="modal" data-target="#restData">
                                Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click" [ngbCollapse]="isCollapsedDiacetyl"
                                (click)="isCollapsedDiacetyl = !isCollapsedDiacetyl">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClassDia}" [ngbCollapse]="!isCollapsedDiacetyl"
                                (click)="isCollapsedDiacetyl = !isCollapsedDiacetyl">
                                add_box
                            </i>

                        </div>

                    </div>
                    <div [ngbCollapse]="isCollapsedDiacetyl" class="collapse" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div *ngFor="let diacetylRestDataDetail of brewRunFermentation.diacetylRestDataDetails; let i = index;">
                                <div class="form-row">

                                    <div class="form-group col-md-6">
                                        <label for="brewrun-id">Actual Temperature ({{preferedUnit}})</label>
                                        <input type="number" class="form-control" id="brewrun-id"
                                            placeholder="Actual Temperature"
                                            [(ngModel)]=" brewRunFermentation.diacetylRestDataDetails[i].actualTemperatureIn">
                                    </div>

                                    <div class="form-group col-md-4">
                                        <label for="brewrun-id">{{preferedPlato}}</label>
                                        <input type="number" class="form-control" id="brewrun-id"
                                            placeholder="{{preferedPlato}}"
                                            [(ngModel)]=" brewRunFermentation.diacetylRestDataDetails[i].platoGravityValue">
                                    </div>
                                </div>


                                <div class="form-row">
                                    <div class="col-md-6">
                                        <div class="d-flex l-start">
                                            <label class="l-start-label"
                                                (click)="setStartDia(i, brewRunFermentation.diacetylRestDataDetails[i])">START</label>
                                            <div class="form-group w-100">
                                                <label for="brewrun-id">Start Time</label>
                                                <input type="text" class="form-control"
                                                    [(ngModel)]="diacetylRestDataDetail.startTime">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="d-flex l-start">
                                            <label class="l-start-label"
                                                (click)="setEndDia(i, brewRunFermentation.diacetylRestDataDetails[i])">END</label>
                                            <div class="form-group w-100">
                                                <label for="brewrun-id">End Time</label>
                                                <input type="text" class="form-control"
                                                    [(ngModel)]="diacetylRestDataDetail.endTime">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="col-md-12 d-flex justify-content-end">
                                        <button type="button" class="btn btn-outline-light l-btn"
                                            (click)="onDiacetylComplete(i,'DiacetylRestData')">
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedCooling = !isCollapsedCooling" class="btn btn-link collapsed"
                                type="button" data-toggle="collapse" aria-expanded="false"
                                aria-controls="collapseThree">
                                Cooling/ Aging Data
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white" type="button" data-toggle="modal"
                                data-target="#agentData">Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click" [ngbCollapse]="isCollapsedCooling"
                                (click)="isCollapsedCooling = !isCollapsedCooling">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClassCool}" [ngbCollapse]="!isCollapsedCooling"
                                (click)="isCollapsedCooling = !isCollapsedCooling">
                                add_box
                            </i>

                        </div>


                    </div>
                    <div [ngbCollapse]="isCollapsedCooling" class="collapse" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div *ngFor="let agingDetail of brewRunFermentation.agingDetails; let i = index;">
                                <div class="form-row">

                                    <div class="form-group col-md-6">
                                        <label for="brewrun-id">Actual Temperature ({{preferedUnit}})</label>
                                        <input type="number" class="form-control" id="brewrun-id"
                                            placeholder="Actual Temperature"
                                            [(ngModel)]="brewRunFermentation.agingDetails[i].actualTemperature">
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="vol-out">Time Duration</label>
                                        <div class='multiple-input'>
                                            <input type="number" class="form-control" id="vol-out"
                                                placeholder="Time Duration"
                                                [(ngModel)]="brewRunFermentation.agingDetails[i].timeDuration">
                                            <select class="form-control input-dropdown"
                                                [(ngModel)]="brewRunFermentation.agingDetails[i].timeDurationUnitId">
                                                <option disabled value="">Select</option>
                                                <ng-container *ngFor="let unit of units">
                                                    <option *ngIf="unit.category === 'Days'" [value]="unit.id">
                                                        {{unit.symbol}}</option>
                                                </ng-container>
                                            </select>

                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">

                                    <div class="col-md-6">
                                        <div class="d-flex l-start">
                                            <label class="l-start-label"
                                                (click)="setStartTemp(i,brewRunFermentation.agingDetails[i])">START</label>
                                            <div class="form-group w-100">
                                                <label for="brewrun-id">Start Time</label>
                                                <input type="text" class="form-control"
                                                    [(ngModel)]="agingDetail.startTime">

                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="d-flex l-start">
                                            <label class="l-start-label"
                                                (click)="endTemp(i,brewRunFermentation.agingDetails[i])">END</label>
                                            <div class="form-group w-100">
                                                <label for="brewrun-id">End Time</label>
                                                <input type="text" class="form-control"
                                                    [(ngModel)]="agingDetail.endTime">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="col-md-12 d-flex justify-content-end">
                                        <button type="button" class="btn btn-outline-light l-btn"
                                            (click)="onCoolingComplete(i,'CoolingData')">
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedFermentationPrevious = !isCollapsedFermentationPrevious"
                                class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                aria-expanded="false" aria-controls="collapseThree">
                                Fermentation - Previous Measurements
                            </button>
                        </h2>
                        <div class="d-flex align-items-center">
                            <button class="btn l-btn-white" type="button" data-toggle="modal"
                                data-target="#frmntprevious">Target Values</button>
                            <i class="material-icons colapse-toggle cursor-click"
                                [ngbCollapse]="isCollapsedFermentationPrevious"
                                (click)="isCollapsedFermentationPrevious = !isCollapsedFermentationPrevious">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngClass]="{'colapse-toggle-active' :setClassPrevFerm}"
                                [ngbCollapse]="!isCollapsedFermentationPrevious"
                                (click)="isCollapsedFermentationPrevious = !isCollapsedFermentationPrevious">
                                add_box
                            </i>

                        </div>

                    </div>

                    <div [ngbCollapse]="isCollapsedFermentationPrevious" class="collapse" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Date</th>
                                        <th scope="col">{{preferedPlato}}</th>
                                        <th scope="col">Temperature</th>
                                        <th scope="col">Ph</th>
                                        <th scope="col">Edit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let enterFermentationData of brewRunFermentation.enterFermentationData; let i = index;">
                                        <th>{{enterFermentationData.dateAndTime | date: 'MM/dd/yyyy  HH:mm:ss' }}</th>
                                        <td>{{enterFermentationData.plato}}</td>
                                        <td>{{enterFermentationData.temperature}}</td>
                                        <td>{{enterFermentationData.ph}}</td>
                                        <td>
                                            <span class="edit-ico ml-2 cursor-click">
                                                <img (click)="editClientDirectory(i)"
                                                    src="../../../../../assets/images/edit.svg">
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="form-row">
                                <div class="col-md-12 d-flex justify-content-end">
                                    <button type="button" class="btn btn-outline-light l-btn"
                                        (click)="onPrevFermComplete(brewRunFermentation.enterFermentationData.length,'FermentationMeasurements')">
                                        Complete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button (click)="isCollapsedFermentationEnter = !isCollapsedFermentationEnter"
                                class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                aria-expanded="false" aria-controls="collapseThree">
                                Enter Fermentation Data
                            </button>
                        </h2>

                        <div class="d-flex align-items-center">
                            <i class="material-icons colapse-toggle cursor-click"
                                [ngbCollapse]="isCollapsedFermentationEnter"
                                (click)="isCollapsedFermentationEnter = !isCollapsedFermentationEnter">
                                indeterminate_check_box
                            </i>
                            <i class="material-icons  colapse-toggle cursor-click"
                                [ngbCollapse]="!isCollapsedFermentationEnter"
                                (click)="isCollapsedFermentationEnter = !isCollapsedFermentationEnter">
                                add_box
                            </i>

                        </div>

                    </div>
                    <div [ngbCollapse]="isCollapsedFermentationEnter" class="collapse" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div *ngIf="selectedPos > -1">
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="brewrun-id">Date & Time</label> <br />

                                        <input [owlDateTimeTrigger]="vorlauf_start" [owlDateTime]="vorlauf_start"
                                            class="form-control" value=""
                                            [(ngModel)]="brewRunFermentation.enterFermentationData[selectedPos].dateAndTime">
                                        <owl-date-time #vorlauf_start></owl-date-time>
                                    </div>


                                    <div class="form-group col-md-4">
                                        <label for="brewrun-id">{{preferedPlato}}</label>
                                        <input type="number" class="form-control" id="brewrun-id"
                                            placeholder="{{preferedPlato}}"
                                            [(ngModel)]="brewRunFermentation.enterFermentationData[selectedPos].plato">
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="ferment-acttemp">Temperature ({{preferedUnit}})</label>
                                        <input type="number" class="form-control" id="ferment-acttemp"
                                            placeholder="Temperature"
                                            [(ngModel)]="brewRunFermentation.enterFermentationData[selectedPos].temperature">
                                    </div>

                                    <div class="form-group col-md-6">
                                        <label for="ferment-ph">pH</label>
                                        <input type="number" class="form-control" id="ferment-ph" placeholder="pH"
                                            [(ngModel)]="brewRunFermentation.enterFermentationData[selectedPos].ph">
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="col-md-12 d-flex justify-content-end">
                                        <button type="button" class="btn btn-outline-light l-btn"
                                            (click)="addFermentationData();">
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-sub-header card-sub-header d-flex justify-content-between" id="headingThree">
                        <h2 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Notes
                            </button>
                        </h2>
                    </div>
                    <div id="collapseThree" class="collapse show" aria-labelledby="headingThree"
                        data-parent="#accordionExample">
                        <div class="card-body">
                            <div class="form-row ferment-text"
                                *ngFor="let fermentationDetailsNote of brewRunFermentation.fermentationDetailsNotes; let i = index;">
                                <div class="form-group col-md-12">
                                    <textarea type="text" class="form-control" id="meshin-notes"
                                        placeholder="Type Text Here..."
                                        [(ngModel)]="brewRunFermentation.fermentationDetailsNotes[i].notes"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-md-12 d-flex justify-content-end">
            <div (click)="gotoTop()" class="recipe-scrolltop">
                <div class="material-icons scroll-arrow">
                    expand_less
                </div>
            </div>
            <button type="button" class="btn btn-outline-light l-btn-cancel mr-2" (click)="onPreviousClick()">
                Previous Step
            </button>
            <button *ngIf="dataTarget" type="button" class="btn btn-outline-light l-btn"
                data-target="#exampleModalCenter" data-toggle="modal">

                Next Step
            </button>
            <button *ngIf="!dataTarget" type="button" class="btn btn-outline-light l-btn" (click)="conditioningClick()">

                Next Step
            </button>
        </div>
    </div>
</div>

<!--Modal-->

<div class="brew-modal">

    <!-- Fermentation Data Entry -->
    <div class="modal fade" id="fermntData" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Fermentation Data Entry</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let ferment of fermentTarget;let i=index;">
                    <div class="container-fluid">

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="ferment-volume">Volume In</label>
                                <div class='multiple-input'>
                                    <input type="number" class="form-control" id="ferment-volume"
                                        [value]="ferment.volumeIn" disabled>
                                    <select class="form-control input-dropdown" [value]="ferment.volumeInUnitId"
                                        disabled>
                                        <option disabled value="">Select</option>
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Volume'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="ferment-acttemp">Actual Temperature ({{preferedUnit}})</label>
                                <input type="text" class="form-control" id="ferment-acttemp"
                                    [value]="ferment.temperature" disabled>
                            </div>


                        </div>

                        <div class="form-row">

                            <div class="form-group col-md-6">
                                <label for="ferment-pressure">Actual Pressure </label>
                                <div class='multiple-input'>
                                    <input type="number" class="form-control" id="ferment-pressure"
                                        [value]="ferment.pressure" disabled>
                                </div>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="ferment-ph">Actual pH</label>
                                <input type="text" class="form-control" id="ferment-ph" [value]="ferment.ph" disabled>
                            </div>

                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="ferment-plato">Actual {{preferedPlato}}</label>
                                <input type="text" class="form-control" id="ferment-plato" [value]="ferment.plato"
                                    disabled>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Yeast Data -->
    <div class="modal fade" id="yeastData" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Yeast Data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let yeast of yeastTarget">
                    <div class="container-fluid">
                        <div class="form-row">

                            <div class="form-group col-md-6">
                                <label for="strain">Strain</label>
                                <select class="form-control input-style input-dropdown" id=""
                                    [value]="yeast.yeastStrainId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let yeastStrain of yeastStrain" [value]="yeastStrain.id">
                                        {{yeastStrain.name}}</option>
                                </select>
                            </div>



                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>



    </div>

    <!-- Hops Ferment -->
    <div class="modal fade" id="hopsFerment" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Hops</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let hops of hopsTarget;let i=index">
                    <div *ngIf="hops.addInId == addInConstants.Fermentation.Id">
                        <div class="col-md-12 pl-0">
                            <b>Hops. {{getHopsCountFermTargets(hops.id)}}</b></div>

                        <div class="form-row mt-3">
                            <div class="form-group col-md-3">
                                <label for="brewrun-name">Name</label>
                                <input type="text" class="form-control" id="brewrun-name" placeholder=""
                                    [value]="hops.name" disabled>
                            </div>

                            <div for="status" class="form-group col-md-3">
                                <label for="postal">Type</label>
                                <select class="form-control input-style input-dropdown" id=""
                                    [value]="hops.maltGrainTypeId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let maltTypes of maltTypes" [value]="maltTypes.id">
                                        {{maltTypes.name}}</option>
                                </select>
                            </div>

                            <div for="status" class="form-group col-md-3">
                                <label for="postal">Origin</label>
                                <select class="form-control input-style input-dropdown" id="" [value]="hops.countryId"
                                    disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let countries of countries" [value]="countries.id">
                                        {{countries.countryName}}</option>
                                </select>
                            </div>

                            <div class="form-group col-md-3">
                                <label for="brewrun-id">Supplier</label>
                                <select class="form-control input-style input-dropdown" id="" [value]="hops.supplierId"
                                    disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let suppliers of suppliers" [value]="suppliers.id">
                                        {{suppliers.name}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">

                            <div class="form-group col-md-3">
                                <label for="brewrun-alpha">Alpha (%)</label>
                                <input type="text" class="form-control" id="brewrun-alpha" placeholder="Alpha (%)"
                                    [value]="hops.alpha" disabled>
                            </div>

                            <div class="form-group col-md-3">
                                <label for="brewrrun-quantity">Quantity</label>
                                <div class='multiple-input'>
                                    <input type="number" class="form-control" id="brewrrun-quantity"
                                        placeholder="Quantity" [value]="hops.quantity" disabled>

                                    <select class="form-control input-dropdown" [value]="hops.quantityUnitTypeId"
                                        disabled>
                                        <option disabled value="">Select</option>
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Mass'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>

                            <div for="status" class="form-group col-md-3">
                                <label for="add-in">Add In</label>
                                <select class="form-control input-style input-dropdown" id="add-in"
                                    [value]="hops.addInId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let addins of addins" [value]="addins.id">
                                        {{addins.name}}</option>

                                </select>
                            </div>

                            <div for="status" class="form-group col-md-3">
                                <label for="brewrrun-Quantity">Time In</label>
                                <div class='multiple-input'>
                                    <input type="number" disabled class="form-control" id="brewrrun-Quantity"
                                        placeholder="Time In" [value]="hops.timeIn">

                                    <select disabled [value]="hops.timeInUnitId" class="form-control input-dropdown">
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Days'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>



                        </div>
                    </div>
                </div>
                <div class="col-md-12 d-flex justify-content-end mb-3">
                    <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                        Close
                    </button>
                </div>

            </div>
        </div>
    </div>


    <!-- Adjuncts Kettle-->
    <div class="modal fade" id="adjunctsFerment" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Adjuncts</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let adjuncts of adjunctsTarget;let i=index">
                    <div class="container-fluid" *ngIf="adjuncts.AddInId == addInConstants.Fermentation.Id">
                        <div class="col-md-12 pl-0"><b>Adjuncts. {{getAdjCountFermTargets(adjuncts.id)}}</b></div>

                        <div class="form-row mt-3">
                            <div class="form-group col-md-4">
                                <label for="brewrun-alpha">Name</label>
                                <input type="text" class="form-control" id="brewrun-alpha" placeholder="Name"
                                    [value]="adjuncts.name" disabled>
                            </div>

                            <div for="status" class="form-group col-md-4">
                                <label for="postal">Origin</label>
                                <select class="form-control input-style input-dropdown" id=""
                                    [value]="adjuncts.countryId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let countries of countries" [value]="countries.id">
                                        {{countries.countryName}}</option>
                                </select>
                            </div>

                            <div class="form-group col-md-4">
                                <label for="postal">Supplier</label>

                                <select class="form-control input-style input-dropdown" id=""
                                    [value]="adjuncts.supplierId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let suppliers of suppliers" [value]="suppliers.id">
                                        {{suppliers.name}}</option>
                                </select>
                            </div>

                        </div>


                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="brewrrun-quantity">Quantity</label>
                                <div class='multiple-input'>
                                    <input type="number" class="form-control" id="brewrrun-quantity"
                                        [value]="adjuncts.quantity" disabled>
                                    <select class="form-control input-dropdown" [value]="adjuncts.quantityUnitId"
                                        disabled>
                                        <option disabled value="">Select</option>
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Mass'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>

                            <div for="status" class="form-group col-md-4">
                                <label for="add-in">Add In</label>
                                <select class="form-control input-style input-dropdown" id="add-in"
                                    [value]="adjuncts.addInId" disabled>
                                    <option disabled value="">Select</option>
                                    <option *ngFor="let addins of addins" [value]="addins.id">
                                        {{addins.name}}</option>
                                </select>
                            </div>

                            <div for="status" class="form-group col-md-4">
                                <label for="brewrrun-Quantity">Time In</label>
                                <div class='multiple-input'>
                                    <input type="number" disabled class="form-control" id="brewrrun-Quantity"
                                        placeholder="Time In" [value]="adjuncts.timeIn">

                                    <select disabled [value]="adjuncts.timeInUnitId"
                                        class="form-control input-dropdown">
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Days'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-12 d-flex justify-content-end mb-3">
                    <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Fermentation Data -->
    <div class="modal fade" id="fermntData" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Enter Fermentation Data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let ferm of fermentTarget">
                    <div class="container-fluid">
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="brewrun-id">{{preferedPlato}}</label>
                                <input type="number" class="form-control" id="brewrun-id" [value]="ferm.plato" disabled>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="ferment-acttemp">Temperature ({{preferedUnit}})</label>
                                <input type="number" class="form-control" id="ferment-acttemp"
                                    [value]="ferm.temperature" disabled>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="ferment-ph">pH</label>
                                <input type="number" class="form-control" id="ferment-ph" [value]="ferm.ph" disabled>
                            </div>

                            <div class="form-row">
                                <div class="col-md-12 d-flex justify-content-end">
                                    <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                        Close
                                    </button>
                                </div>
                            </div>

                        </div>


                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Diacetyl Rest Data -->
    <div class="modal fade" id="restData" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Diacetyl Rest Data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let diac of diacetylTarget">
                    <div class="container-fluid">

                        <div class="form-row">

                            <div class="form-group col-md-6">
                                <label for="brewrun-id">Actual Temperature ({{preferedUnit}})</label>
                                <input type="text" class="form-control" id="brewrun-id" [value]="diac.temperature"
                                    disabled>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="brewrun-id">{{preferedPlato}}</label>
                                <input type="text" class="form-control" id="brewrun-id" [value]="diac.plato" disabled>
                            </div>


                        </div>
                        <div class="form-row">
                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>


                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Cooling/ Aging Data -->
    <div class="modal fade" id="agentData" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Cooling/ Aging Data</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body" *ngFor="let cool of coolTarget">
                    <div class="container-fluid">

                        <div class="form-row">

                            <div class="form-group col-md-6">
                                <label for="brewrun-id">Actual Temperature ({{preferedUnit}})</label>
                                <input type="text" class="form-control" id="brewrun-id" [value]="cool.temperature"
                                    disabled>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="vol-out">Time Duration</label>
                                <div class='multiple-input'>
                                    <input type="number" class="form-control" id="vol-out" [value]="cool.timeDuration"
                                        disabled>
                                    <select class="form-control input-dropdown" [value]="cool.timeDurationUnitId"
                                        disabled>
                                        <option disabled value="">Select</option>
                                        <ng-container *ngFor="let unit of units">
                                            <option *ngIf="unit.category === 'Days'" [value]="unit.id">{{unit.symbol}}
                                            </option>
                                        </ng-container>
                                    </select>
                                </div>
                            </div>


                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                    Close
                                </button>
                            </div>


                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Fermentation - Previous Measurements -->
    <div class="modal fade" id="frmntprevious" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Fermentation - Previous Measurements</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                class="modal-close-ico"></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Date</th>
                                    <th scope="col">{{preferedPlato}}</th>
                                    <th scope="col">Temperature</th>
                                    <th scope="col">Ph</th>
                                </tr>
                            </thead>
                            <tbody *ngFor="let ferment of fermentTarget">
                                <tr>
                                    <th>{{ferment.createdDate | date}}</th>
                                    <td>{{ferment.plato}}</td>
                                    <td>{{ferment.temperature}}</td>
                                    <td>{{ferment.ph}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="form-row">
                            <div class="col-md-12 d-flex justify-content-end">
                                <button type="button" class="btn btn-outline-light l-btn" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- style modal  -->

    <form [formGroup]="modalForms" autocomplete="off">
        <div class="del-modal">
            <!-- Button trigger modal -->
            <!-- Modal -->
            <div class="modal fade" id="styleModal" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Add New Style</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                        class="modal-close-ico"></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="col-md-12 d-flex justify-content-center del-content">
                                    <div class="form-group col-md-12">
                                        <label for="brewrun-Name">Add New Style</label>
                                        <input type="text" class="form-control" id="brewrun-Name" placeholder=""
                                            formControlName="styleText">
                                    </div>
                                </div>
                                <div class="col-md-12 d-flex justify-content-center mt-2">

                                    <button data-dismiss="modal" type="button" class="btn  l-btn-agree"
                                        (click)="addNewStyle()">
                                        Add
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="del-modal">
            <!-- Button trigger modal -->
            <!--Type Modal -->
            <div class="modal fade" id="typeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Add New Type</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                        class="modal-close-ico"></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="col-md-12 d-flex justify-content-center del-content">
                                    <div class="form-group col-md-12">
                                        <label for="brewrun-Name">Add New Type</label>
                                        <input type="text" class="form-control" id="brewrun-Name" placeholder=""
                                            formControlName="typeText">
                                    </div>

                                </div>
                                <div class="col-md-12 d-flex justify-content-center mt-2">

                                    <button data-dismiss="modal" type="button" class="btn  l-btn-agree"
                                        (click)="addNewType()">
                                        Add
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="del-modal">
            <!-- Button trigger modal -->
            <!-- Supplier Modal -->
            <div class="modal fade" id="supplierModal" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Add New Supplier</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                        class="modal-close-ico"></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="col-md-12 d-flex justify-content-center del-content">
                                    <div class="form-group col-md-12">
                                        <label for="brewrun-Name">Add New Supplier</label>
                                        <input type="text" class="form-control" id="supplier" placeholder=""
                                            formControlName="supplierText">
                                    </div>

                                </div>
                                <div class="col-md-12 d-flex justify-content-center mt-2">

                                    <button data-dismiss="modal" type="button" class="btn  l-btn-agree"
                                        (click)="addNewSupplier()">
                                        Add
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <jw-modal id="brewId">
        <div class="del-modal">
            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Change Tank</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true"><img src="assets/images/modal-close.svg"
                                        class="modal-close-ico"></span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-12 d-flex justify-content-center del-content">
                                    <div>
                                        <p class="del-header">Your Tank Also Changed</p>
                                        <p class="mt-3 text-center">Are you sure you want to proceed?</p>
                                    </div>
                                </div>
                                <div class="col-md-12 d-flex justify-content-center mt-2">
                                    <button type="button" data-dismiss="modal" class="btn  l-btn-cancel mr-2">
                                        No
                                    </button>

                                    <button (click)="conditioningClick()" type="button" class="btn  l-btn-agree">
                                        Yes
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </jw-modal>